<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>File IO (scipy.io) — SciPy v0.11.dev Reference Guide (DRAFT)</title><link href="../_static/scipy.css" rel="stylesheet" type="text/css"/><link href="../_static/pygments.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.11.0.dev-b924f0b',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script><script src="../_static/jquery.js" type="text/javascript"></script><script src="../_static/underscore.js" type="text/javascript"></script><script src="../_static/doctools.js" type="text/javascript"></script><link href="../index.html" rel="top" title="SciPy v0.11.dev Reference Guide (DRAFT)"/><link href="index.html" rel="up" title="SciPy Tutorial"/><link href="ndimage.html" rel="prev" title="Multi-dimensional image processing (scipy.ndimage)"/></head><body>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="../np-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a accesskey="P" href="ndimage.html" title="Multi-dimensional image processing (scipy.ndimage)">previous</a> |</li>
<li><a href="../index.html">SciPy v0.11.dev Reference Guide (DRAFT)</a> »</li>
<li><a accesskey="U" href="index.html">SciPy Tutorial</a> »</li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="file-io-scipy-io">
<h1>File IO (<a class="reference internal" href="../io.html#module-scipy.io" title="scipy.io"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.io</span></tt></a>)<a class="headerlink" href="#file-io-scipy-io" title="Permalink to this headline">¶</a></h1>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><em class="xref std std-ref">numpy-reference.routines.io</em> (in numpy)</p>
</div>
<div class="section" id="matlab-files">
<h2>MATLAB files<a class="headerlink" href="#matlab-files" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.loadmat.html#scipy.io.loadmat" title="scipy.io.loadmat"><tt class="xref py py-obj docutils literal"><span class="pre">loadmat</span></tt></a>(file_name[, mdict, appendmat])</td>
<td>Load MATLAB file</td>
</tr>
<tr><td><a class="reference internal" href="../generated/scipy.io.savemat.html#scipy.io.savemat" title="scipy.io.savemat"><tt class="xref py py-obj docutils literal"><span class="pre">savemat</span></tt></a>(file_name, mdict[, appendmat, ...])</td>
<td>Save a dictionary of names and arrays into a MATLAB-style .mat file.</td>
</tr>
</tbody>
</table>
<p>Getting started:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.io</span> <span class="kn">as</span> <span class="nn">sio</span>
</pre></div>
</div>
<p>If you are using IPython, try tab completing on <tt class="docutils literal"><span class="pre">sio</span></tt>.  You’ll find:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span>
<span class="n">sio</span><span class="o">.</span><span class="n">savemat</span>
</pre></div>
</div>
<p>These are the high-level functions you will most likely use.  You’ll
also find:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sio</span><span class="o">.</span><span class="n">matlab</span>
</pre></div>
</div>
<p>This is the package from which <tt class="docutils literal"><span class="pre">loadmat</span></tt> and <tt class="docutils literal"><span class="pre">savemat</span></tt> are imported.
Within <tt class="docutils literal"><span class="pre">sio.matlab</span></tt>, you will find the <tt class="docutils literal"><span class="pre">mio</span></tt> module - containing
the machinery that <tt class="docutils literal"><span class="pre">loadmat</span></tt> and <tt class="docutils literal"><span class="pre">savemat</span></tt> use.  From time to time
you may find yourself re-using this machinery.</p>
<div class="section" id="how-do-i-start">
<h3>How do I start?<a class="headerlink" href="#how-do-i-start" title="Permalink to this headline">¶</a></h3>
<p>You may have a <tt class="docutils literal"><span class="pre">.mat</span></tt> file that you want to read into Scipy.  Or, you
want to pass some variables from Scipy / Numpy into MATLAB.</p>
<p>To save us using a MATLAB license, let’s start in <a class="reference external" href="http://www.gnu.org/software/octave">Octave</a>.  Octave has
MATLAB-compatible save / load functions.  Start Octave (<tt class="docutils literal"><span class="pre">octave</span></tt> at
the command line for me):</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>1<span class="o">&gt;</span> <span class="n">a</span> <span class="p">=</span> 1<span class="p">:</span>12
<span class="n">a</span> <span class="p">=</span>

   1   2   3   4   5   6   7   8   9  10  11  12

<span class="n">octave</span><span class="p">:</span>2<span class="o">&gt;</span> <span class="n">a</span> <span class="p">=</span> <span class="nb">reshape</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span>1 3 4<span class="p">])</span>
<span class="n">a</span> <span class="p">=</span>

<span class="nb">ans</span><span class="p">(:,:,</span>1<span class="p">)</span> <span class="p">=</span>

   1   2   3

<span class="nb">ans</span><span class="p">(:,:,</span>2<span class="p">)</span> <span class="p">=</span>

   4   5   6

<span class="nb">ans</span><span class="p">(:,:,</span>3<span class="p">)</span> <span class="p">=</span>

   7   8   9

<span class="nb">ans</span><span class="p">(:,:,</span>4<span class="p">)</span> <span class="p">=</span>

   10   11   12



<span class="n">octave</span><span class="p">:</span>3<span class="o">&gt;</span> <span class="n">save</span> <span class="o">-</span>6 <span class="n">octave_a</span><span class="p">.</span><span class="n">mat</span> <span class="n">a</span> <span class="c">% MATLAB 6 compatible</span>
<span class="n">octave</span><span class="p">:</span>4<span class="o">&gt;</span> <span class="n">ls</span> <span class="n">octave_a</span><span class="p">.</span><span class="n">mat</span>
<span class="n">octave_a</span><span class="p">.</span><span class="n">mat</span>
</pre></div>
</div>
<p>Now, to Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_a.mat'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mat_contents</span>
<span class="go">{'a': array([[[  1.,   4.,   7.,  10.],</span>
<span class="go">        [  2.,   5.,   8.,  11.],</span>
<span class="go">        [  3.,   6.,   9.,  12.]]]),</span>
<span class="go"> '__version__': '1.0',</span>
<span class="go"> '__header__': 'MATLAB 5.0 MAT-file, written by</span>
<span class="go"> Octave 3.2.3, 2010-05-30 02:13:40 UTC',</span>
<span class="go"> '__globals__': []}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_a</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'a'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">oct_a</span>
<span class="go">[[[  1.   4.   7.  10.]</span>
<span class="go">  [  2.   5.   8.  11.]</span>
<span class="go">  [  3.   6.   9.  12.]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">oct_a</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 3, 4)</span>
</pre></div>
</div>
<p>Now let’s try the other way round:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vect</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">vect</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(10,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s">'np_vector.mat'</span><span class="p">,</span> <span class="p">{</span><span class="s">'vect'</span><span class="p">:</span><span class="n">vect</span><span class="p">})</span>
<span class="go">/Users/mb312/usr/local/lib/python2.6/site-packages/scipy/io/matlab/mio.py:196: FutureWarning: Using oned_as default value ('column') This will change to 'row' in future versions</span>
</pre></div>
</div>
<p>oned_as=oned_as)</p>
</div></blockquote>
<p>Then back to Octave:</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>5<span class="o">&gt;</span> <span class="n">load</span> <span class="n">np_vector</span><span class="p">.</span><span class="n">mat</span>
<span class="n">octave</span><span class="p">:</span>6<span class="o">&gt;</span> <span class="n">vect</span>
<span class="n">vect</span> <span class="p">=</span>

  0
  1
  2
  3
  4
  5
  6
  7
  8
  9

<span class="n">octave</span><span class="p">:</span>7<span class="o">&gt;</span> <span class="nb">size</span><span class="p">(</span><span class="n">vect</span><span class="p">)</span>
<span class="nb">ans</span> <span class="p">=</span>

   10    1
</pre></div>
</div>
<p>Note the deprecation warning.  The <tt class="docutils literal"><span class="pre">oned_as</span></tt> keyword determines the way in
which one-dimensional vectors are stored.  In the future, this will default
to <tt class="docutils literal"><span class="pre">row</span></tt> instead of <tt class="docutils literal"><span class="pre">column</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s">'np_vector.mat'</span><span class="p">,</span> <span class="p">{</span><span class="s">'vect'</span><span class="p">:</span><span class="n">vect</span><span class="p">},</span> <span class="n">oned_as</span><span class="o">=</span><span class="s">'row'</span><span class="p">)</span>
</pre></div>
</div>
<p>We can load this in Octave or MATLAB:</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>8<span class="o">&gt;</span> <span class="n">load</span> <span class="n">np_vector</span><span class="p">.</span><span class="n">mat</span>
<span class="n">octave</span><span class="p">:</span>9<span class="o">&gt;</span> <span class="n">vect</span>
<span class="n">vect</span> <span class="p">=</span>

  0  1  2  3  4  5  6  7  8  9

<span class="n">octave</span><span class="p">:</span>10<span class="o">&gt;</span> <span class="nb">size</span><span class="p">(</span><span class="n">vect</span><span class="p">)</span>
<span class="nb">ans</span> <span class="p">=</span>

    1   10
</pre></div>
</div>
</div>
<div class="section" id="matlab-structs">
<h3>MATLAB structs<a class="headerlink" href="#matlab-structs" title="Permalink to this headline">¶</a></h3>
<p>MATLAB structs are a little bit like Python dicts, except the field
names must be strings.  Any MATLAB object can be a value of a field.  As
for all objects in MATLAB, structs are in fact arrays of structs, where
a single struct is an array of shape (1, 1).</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>11<span class="o">&gt;</span> <span class="n">my_struct</span> <span class="p">=</span> <span class="n">struct</span><span class="p">(</span><span class="s">'field1'</span><span class="p">,</span> 1<span class="p">,</span> <span class="s">'field2'</span><span class="p">,</span> 2<span class="p">)</span>
<span class="n">my_struct</span> <span class="p">=</span>
<span class="p">{</span>
  <span class="n">field1</span> <span class="p">=</span>  1
  <span class="n">field2</span> <span class="p">=</span>  2
<span class="p">}</span>

<span class="n">octave</span><span class="p">:</span>12<span class="o">&gt;</span> <span class="n">save</span> <span class="o">-</span>6 <span class="n">octave_struct</span><span class="p">.</span><span class="n">mat</span> <span class="n">my_struct</span>
</pre></div>
</div>
<p>We can load this in Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_struct.mat'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mat_contents</span>
<span class="go">{'my_struct': array([[([[1.0]], [[2.0]])]],</span>
<span class="go">      dtype=[('field1', '|O8'), ('field2', '|O8')]), '__version__': '1.0', '__header__': 'MATLAB 5.0 MAT-file, written by Octave 3.2.3, 2010-05-30 02:00:26 UTC', '__globals__': []}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'my_struct'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">oct_struct</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">oct_struct</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span>
<span class="go">([[1.0]], [[2.0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span><span class="p">[</span><span class="s">'field1'</span><span class="p">]</span>
<span class="go">[[ 1.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span><span class="p">[</span><span class="s">'field2'</span><span class="p">]</span>
<span class="go">[[ 2.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">[('field1', '|O8'), ('field2', '|O8')]</span>
</pre></div>
</div>
<p>In this version of Scipy (0.8.0), MATLAB structs come back as numpy
structured arrays, with fields named for the struct fields.  You can see
the field names in the <tt class="docutils literal"><span class="pre">dtype</span></tt> output above.  Note also:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">oct_struct</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>and:</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>13<span class="o">&gt;</span> <span class="nb">size</span><span class="p">(</span><span class="n">my_struct</span><span class="p">)</span>
<span class="nb">ans</span> <span class="p">=</span>

   1   1
</pre></div>
</div>
<p>So, in MATLAB, the struct array must be at least 2D, and we replicate
that when we read into Scipy.  If you want all length 1 dimensions
squeezed out, try this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_struct.mat'</span><span class="p">,</span> <span class="n">squeeze_me</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'my_struct'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span><span class="o">.</span><span class="n">shape</span>
<span class="go">()</span>
</pre></div>
</div>
<p>Sometimes, it’s more convenient to load the MATLAB structs as python
objects rather than numpy structured arrarys - it can make the access
syntax in python a bit more similar to that in MATLAB.  In order to do
this, use the <tt class="docutils literal"><span class="pre">struct_as_record=False</span></tt> parameter to <tt class="docutils literal"><span class="pre">loadmat</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_struct.mat'</span><span class="p">,</span> <span class="n">struct_as_record</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'my_struct'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">field1</span>
<span class="go">array([[ 1.]])</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">struct_as_record=False</span></tt> works nicely with <tt class="docutils literal"><span class="pre">squeeze_me</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_struct.mat'</span><span class="p">,</span> <span class="n">struct_as_record</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">squeeze_me</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'my_struct'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_struct</span><span class="o">.</span><span class="n">shape</span> <span class="c"># but no - it's a scalar</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">AttributeError</span>: <span class="n">'mat_struct' object has no attribute 'shape'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">oct_struct</span><span class="p">)</span>
<span class="go">&lt;class 'scipy.io.matlab.mio5_params.mat_struct'&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">oct_struct</span><span class="o">.</span><span class="n">field1</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Saving struct arrays can be done in various ways.  One simple method is
to use dicts:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'field1'</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s">'field2'</span><span class="p">:</span> <span class="s">'a string'</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s">'saved_struct.mat'</span><span class="p">,</span> <span class="p">{</span><span class="s">'a_dict'</span><span class="p">:</span> <span class="n">a_dict</span><span class="p">})</span>
</pre></div>
</div>
<p>loaded as:</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>21<span class="o">&gt;</span> <span class="n">load</span> <span class="n">saved_struct</span>
<span class="n">octave</span><span class="p">:</span>22<span class="o">&gt;</span> <span class="n">a_dict</span>
<span class="n">a_dict</span> <span class="p">=</span>
<span class="p">{</span>
  <span class="n">field2</span> <span class="p">=</span> <span class="n">a</span> <span class="n">string</span>
  <span class="n">field1</span> <span class="p">=</span>  0<span class="p">.</span>50000
<span class="p">}</span>
</pre></div>
</div>
<p>You can also save structs back again to MATLAB (or Octave in our case)
like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="p">[(</span><span class="s">'f1'</span><span class="p">,</span> <span class="s">'f8'</span><span class="p">),</span> <span class="p">(</span><span class="s">'f2'</span><span class="p">,</span> <span class="s">'S10'</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">arr</span>
<span class="go">[(0.0, '') (0.0, '')]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">'f1'</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">'f2'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'python'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">'f1'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">'f2'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'not perl'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s">'np_struct_arr.mat'</span><span class="p">,</span> <span class="p">{</span><span class="s">'arr'</span><span class="p">:</span> <span class="n">arr</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="matlab-cell-arrays">
<h3>MATLAB cell arrays<a class="headerlink" href="#matlab-cell-arrays" title="Permalink to this headline">¶</a></h3>
<p>Cell arrays in MATLAB are rather like python lists, in the sense that
the elements in the arrays can contain any type of MATLAB object.  In
fact they are most similar to numpy object arrays, and that is how we
load them into numpy.</p>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>14<span class="o">&gt;</span> <span class="n">my_cells</span> <span class="p">=</span> <span class="p">{</span>1<span class="p">,</span> <span class="p">[</span>2<span class="p">,</span> 3<span class="p">]}</span>
<span class="n">my_cells</span> <span class="p">=</span>

<span class="p">{</span>
  <span class="p">[</span>1<span class="p">,</span>1<span class="p">]</span> <span class="p">=</span>  1
  <span class="p">[</span>1<span class="p">,</span>2<span class="p">]</span> <span class="p">=</span>

     2   3

<span class="p">}</span>

<span class="n">octave</span><span class="p">:</span>15<span class="o">&gt;</span> <span class="n">save</span> <span class="o">-</span>6 <span class="n">octave_cells</span><span class="p">.</span><span class="n">mat</span> <span class="n">my_cells</span>
</pre></div>
</div>
<p>Back to Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mat_contents</span> <span class="o">=</span> <span class="n">sio</span><span class="o">.</span><span class="n">loadmat</span><span class="p">(</span><span class="s">'octave_cells.mat'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oct_cells</span> <span class="o">=</span> <span class="n">mat_contents</span><span class="p">[</span><span class="s">'my_cells'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">oct_cells</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">oct_cells</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span>
<span class="go">[[ 1.]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">val</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">float64</span>
</pre></div>
</div>
<p>Saving to a MATLAB cell array just involves making a numpy object array:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">obj_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s">'a string'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">obj_arr</span>
<span class="go">[1 a string]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sio</span><span class="o">.</span><span class="n">savemat</span><span class="p">(</span><span class="s">'np_cells.mat'</span><span class="p">,</span> <span class="p">{</span><span class="s">'obj_arr'</span><span class="p">:</span><span class="n">obj_arr</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-octave"><div class="highlight"><pre><span class="n">octave</span><span class="p">:</span>16<span class="o">&gt;</span> <span class="n">load</span> <span class="n">np_cells</span><span class="p">.</span><span class="n">mat</span>
<span class="n">octave</span><span class="p">:</span>17<span class="o">&gt;</span> <span class="n">obj_arr</span>
<span class="n">obj_arr</span> <span class="p">=</span>

<span class="p">{</span>
  <span class="p">[</span>1<span class="p">,</span>1<span class="p">]</span> <span class="p">=</span> 1
  <span class="p">[</span>2<span class="p">,</span>1<span class="p">]</span> <span class="p">=</span> <span class="n">a</span> <span class="n">string</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="idl-files">
<h2>IDL files<a class="headerlink" href="#idl-files" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.readsav.html#scipy.io.readsav" title="scipy.io.readsav"><tt class="xref py py-obj docutils literal"><span class="pre">readsav</span></tt></a>(file_name[, idict, python_dict, ...])</td>
<td>Read an IDL .sav file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="matrix-market-files">
<h2>Matrix Market files<a class="headerlink" href="#matrix-market-files" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.mminfo.html#scipy.io.mminfo" title="scipy.io.mminfo"><tt class="xref py py-obj docutils literal"><span class="pre">mminfo</span></tt></a>(source)</td>
<td>Queries the contents of the Matrix Market file ‘filename’ to</td>
</tr>
<tr><td><a class="reference internal" href="../generated/scipy.io.mmread.html#scipy.io.mmread" title="scipy.io.mmread"><tt class="xref py py-obj docutils literal"><span class="pre">mmread</span></tt></a>(source)</td>
<td>Reads the contents of a Matrix Market file ‘filename’ into a matrix.</td>
</tr>
<tr><td><a class="reference internal" href="../generated/scipy.io.mmwrite.html#scipy.io.mmwrite" title="scipy.io.mmwrite"><tt class="xref py py-obj docutils literal"><span class="pre">mmwrite</span></tt></a>(target, a[, comment, field, precision])</td>
<td>Writes the sparse or dense matrix A to a Matrix Market formatted file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="other">
<h2>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.save_as_module.html#scipy.io.save_as_module" title="scipy.io.save_as_module"><tt class="xref py py-obj docutils literal"><span class="pre">save_as_module</span></tt></a>([file_name, data])</td>
<td>Save the dictionary “data” into a module and shelf named save.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-scipy.io.wavfile">
<span id="wav-sound-files-scipy-io-wavfile"></span><h2>Wav sound files (<a class="reference internal" href="#module-scipy.io.wavfile" title="scipy.io.wavfile"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.io.wavfile</span></tt></a>)<a class="headerlink" href="#module-scipy.io.wavfile" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.wavfile.read.html#scipy.io.wavfile.read" title="scipy.io.wavfile.read"><tt class="xref py py-obj docutils literal"><span class="pre">read</span></tt></a>(file)</td>
<td>Return the sample rate (in samples/sec) and data from a WAV file</td>
</tr>
<tr><td><a class="reference internal" href="../generated/scipy.io.wavfile.write.html#scipy.io.wavfile.write" title="scipy.io.wavfile.write"><tt class="xref py py-obj docutils literal"><span class="pre">write</span></tt></a>(filename, rate, data)</td>
<td>Write a numpy array as a WAV file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-scipy.io.arff">
<span id="arff-files-scipy-io-arff"></span><h2>Arff files (<a class="reference internal" href="#module-scipy.io.arff" title="scipy.io.arff"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.io.arff</span></tt></a>)<a class="headerlink" href="#module-scipy.io.arff" title="Permalink to this headline">¶</a></h2>
<p>Module to read ARFF files, which are the standard data format for WEKA.</p>
<p>ARFF is a text file format which support numerical, string and data values.
The format can also represent missing data and sparse data.</p>
<p>See the <a class="reference external" href="http://weka.wikispaces.com/ARFF">WEKA website</a>
for more details about arff format and available datasets.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.io</span> <span class="kn">import</span> <span class="n">arff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cStringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="s">"""</span>
<span class="gp">... </span><span class="s">@relation foo</span>
<span class="gp">... </span><span class="s">@attribute width  numeric</span>
<span class="gp">... </span><span class="s">@attribute height numeric</span>
<span class="gp">... </span><span class="s">@attribute color  {red,green,blue,yellow,black}</span>
<span class="gp">... </span><span class="s">@data</span>
<span class="gp">... </span><span class="s">5.0,3.25,blue</span>
<span class="gp">... </span><span class="s">4.5,3.75,green</span>
<span class="gp">... </span><span class="s">3.0,4.00,red</span>
<span class="gp">... </span><span class="s">"""</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">,</span> <span class="n">meta</span> <span class="o">=</span> <span class="n">arff</span><span class="o">.</span><span class="n">loadarff</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">array([(5.0, 3.25, 'blue'), (4.5, 3.75, 'green'), (3.0, 4.0, 'red')],</span>
<span class="go">      dtype=[('width', '&lt;f8'), ('height', '&lt;f8'), ('color', '|S6')])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">meta</span>
<span class="go">Dataset: foo</span>
<span class="go">        width's type is numeric</span>
<span class="go">        height's type is numeric</span>
<span class="go">        color's type is nominal, range is ('red', 'green', 'blue', 'yellow', 'black')</span>
</pre></div>
</div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.arff.loadarff.html#scipy.io.arff.loadarff" title="scipy.io.arff.loadarff"><tt class="xref py py-obj docutils literal"><span class="pre">loadarff</span></tt></a>(f)</td>
<td>Read an arff file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="module-scipy.io.netcdf">
<span id="netcdf-scipy-io-netcdf"></span><h2>Netcdf (<a class="reference internal" href="#module-scipy.io.netcdf" title="scipy.io.netcdf"><tt class="xref py py-mod docutils literal"><span class="pre">scipy.io.netcdf</span></tt></a>)<a class="headerlink" href="#module-scipy.io.netcdf" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="10%"></col>
<col width="90%"></col>
</colgroup>
<tbody valign="top">
<tr><td><a class="reference internal" href="../generated/scipy.io.netcdf.netcdf_file.html#scipy.io.netcdf.netcdf_file" title="scipy.io.netcdf.netcdf_file"><tt class="xref py py-obj docutils literal"><span class="pre">netcdf_file</span></tt></a>(filename[, mode, mmap, version])</td>
<td>A file object for NetCDF data.</td>
</tr>
</tbody>
</table>
<p>Allows reading of  NetCDF files (version of <a class="reference external" href="http://pypi.python.org/pypi/pupynere/">pupynere</a> package)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<p class="logo"><a href="../index.html">
<img alt="Logo" class="logo" src="../_static/scipyshiny_small.png"/>
</a></p>
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">File IO (<tt class="docutils literal"><span class="pre">scipy.io</span></tt>)</a><ul>
<li><a class="reference internal" href="#matlab-files">MATLAB files</a><ul>
<li><a class="reference internal" href="#how-do-i-start">How do I start?</a></li>
<li><a class="reference internal" href="#matlab-structs">MATLAB structs</a></li>
<li><a class="reference internal" href="#matlab-cell-arrays">MATLAB cell arrays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#idl-files">IDL files</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#matrix-market-files">Matrix Market files</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#other">Other</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-scipy.io.wavfile">Wav sound files (<tt class="docutils literal"><span class="pre">scipy.io.wavfile</span></tt>)</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#module-scipy.io.arff">Arff files (<tt class="docutils literal"><span class="pre">scipy.io.arff</span></tt>)</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scipy.io.netcdf">Netcdf (<tt class="docutils literal"><span class="pre">scipy.io.netcdf</span></tt>)</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
<h4>Previous topic</h4>
<p class="topless"><a href="ndimage.html" title="previous chapter">Multi-dimensional image processing (<tt class="docutils literal"><span class="pre">scipy.ndimage</span></tt>)</a></p>
<h3>This Page</h3>
<ul class="this-page-menu">
<li><a href="../_sources/tutorial/io.txt" rel="nofollow">Show Source</a></li>
</ul>
<ul class="this-page-menu">
<li><a href="/scipy/docs/scipy-docs/tutorial/io.rst">Edit page</a></li>
</ul>
<div id="searchbox" style="display: none">
<h3>Quick search</h3>
<form action="../search.html" class="search" method="get">
<input name="q" size="18" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="../py-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="../np-modindex.html" title="Python Module Index">modules</a> |</li>
<li class="right">
<a href="ndimage.html" title="Multi-dimensional image processing (scipy.ndimage)">previous</a> |</li>
<li><a href="../index.html">SciPy v0.11.dev Reference Guide (DRAFT)</a> »</li>
<li><a href="index.html">SciPy Tutorial</a> »</li>
</ul>
</div>
<div class="footer">
        © Copyright 2008-2009, The Scipy community.
      Last updated on Feb 24, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
<div style="display:none;"><a name="#"></a><h3 class="tasks">TOC</h3><ul class="tooltip"><li class="tooltip"><a href="#">File IO (scipy.io)</a></li><li class="tooltip"><a href="#matlab-files">MATLAB files</a></li><li class="tooltip"><a href="#how-do-i-start">How do I start?</a></li><li class="tooltip"><a href="#matlab-structs">MATLAB structs</a></li><li class="tooltip"><a href="#matlab-cell-arrays">MATLAB cell arrays</a></li><li class="tooltip"><a href="#idl-files">IDL files</a></li><li class="tooltip"><a href="#matrix-market-files">Matrix Market files</a></li><li class="tooltip"><a href="#other">Other</a></li><li class="tooltip"><a href="#module-scipy.io.wavfile">Wav sound files (scipy.io.wavfile)</a></li><li class="tooltip"><a href="#module-scipy.io.arff">Arff files (scipy.io.arff)</a></li><li class="tooltip"><a href="#examples">Examples</a></li><li class="tooltip"><a href="#module-scipy.io.netcdf">Netcdf (scipy.io.netcdf)</a></li></ul></div></body></html>